# üé® Deploy to Render - Quick Guide

## üìç Repository
**GitHub:** https://github.com/0prateeksingh0/product-importer

---

## üöÄ Deployment Steps

### Step 1: Sign Up for Render
Go to **https://render.com** and sign up (free, no credit card required)

### Step 2: Deploy with Blueprint
1. Click **"New +"** ‚Üí **"Blueprint"**
2. Connect your GitHub repository: `0prateeksingh0/product-importer`
3. Render automatically detects `render.yaml`
4. Click **"Apply"**
5. Wait 5-10 minutes for deployment

### Step 3: Add Redis
1. Click **"New +"** ‚Üí **"Redis"**
2. Name: `product-importer-redis`
3. Region: Same as your services (Oregon recommended)
4. Plan: **Free** (for testing) or **Starter** ($10/month for production)
5. Click **"Create Redis"**
6. Copy the **Internal Connection String**

### Step 4: Configure Environment Variables
Go to each service (web + worker) and add:

**Web Service:**
```
REDIS_URL = <paste-internal-redis-url>
CELERY_BROKER_URL = <same-as-redis-url>
CELERY_RESULT_BACKEND = <same-as-redis-url>
ALLOWED_ORIGINS = https://product-importer-web.onrender.com
SECRET_KEY = <auto-generated-or-create-random>
DEBUG = False
```

**Worker Service:**
```
REDIS_URL = <paste-internal-redis-url>
CELERY_BROKER_URL = <same-as-redis-url>
CELERY_RESULT_BACKEND = <same-as-redis-url>
SECRET_KEY = <same-as-web>
```

### Step 5: Access Your App
Your live URL: `https://product-importer-web.onrender.com`

---

## üí∞ Pricing

### Free Tier
- **Cost:** $0/month
- **Limitations:** 
  - Services sleep after 15 min inactivity
  - Database: 256MB (good for ~10,000 products)
  - Redis: 25MB
  
### Starter Tier (Recommended for 861k products)
- **Web Service:** $7/month
- **Worker Service:** $7/month  
- **PostgreSQL:** $7/month (1GB storage)
- **Redis:** $10/month (256MB)
- **Total:** $31/month

---

## ‚úÖ Verify Deployment

```bash
# Test health endpoint
curl https://product-importer-web.onrender.com/api/health

# Test creating a product
curl -X POST https://product-importer-web.onrender.com/api/products \
  -H "Content-Type: application/json" \
  -d '{"sku":"TEST001","name":"Test Product","price":"9.99","active":true}'

# Open in browser
open https://product-importer-web.onrender.com
```

---

## üìä Monitor Your App

1. **View Logs:** Click service ‚Üí "Logs" tab (real-time)
2. **Check Status:** All services should show "Live"
3. **Metrics:** CPU, Memory, Request count available in dashboard

---

## üîÑ Auto-Deploy

Render automatically deploys when you push to GitHub:
```bash
git add .
git commit -m "Update feature"
git push origin main
# Render automatically deploys! üéâ
```

---

## üêõ Troubleshooting

**Problem: Service won't start**
- Check logs in Render dashboard
- Verify all environment variables are set
- Check build logs for errors

**Problem: Worker not processing jobs**
- Verify REDIS_URL is set in worker
- Check worker logs
- Restart worker service

**Problem: Database connection error**
- Verify DATABASE_URL is auto-set by Render
- Use INTERNAL database URL, not external
- Check database is in same region

---

## üìß For Submission

Include in your assignment email:

1. **GitHub:** https://github.com/0prateeksingh0/product-importer
2. **Live URL:** https://product-importer-web.onrender.com
3. **API Docs:** https://product-importer-web.onrender.com/docs

---

**üéâ Done! Your app is live on Render!**

